function addPath(e){e=e.replace("//","/"),e=baseFilePath.length>1?e.replace(baseFilePath,"/"):e,$("#"+fileManagerCallerID).val(e),$(".file-manager-frame").remove()}var fileManagerCallerID="",baseFilePath="",richEditors=[],aceEditors={};$(function(){$("form").submit(function(){return richEditors.forEach(function(e){e.updateElement()}),Object.keys(aceEditors).forEach(function(e){var a=aceEditors[e],t=e.replace("code-","#");$(t).val(a.getValue())}),!0}),$(window).bind("keydown",function(e){if((e.ctrlKey||e.metaKey)&&"s"==String.fromCharCode(e.which).toLowerCase())return $("form").submit(),e.preventDefault(),!1}),$(".filemanager").click(function(){var e=$(this).attr("iframe");fileManagerCallerID=$(this).attr("data-id"),baseFilePath=$(this).attr("data-base-path");var a='<div class="file-manager-frame"><iframe src="'+e+'" width="100%" height="100%"></iframe></div>';$("body").append(a)}),$(document).on("click",".file-manager-frame",function(){$(".file-manager-frame").remove()}),$(".richeditor").each(function(){var e=CKEDITOR.replace(this,{filebrowserBrowseUrl:$(this).attr("data-filemanager")});e.config.allowedContent=!0,richEditors.push(e)}),$(".ace-editor").each(function(){var e=$(this).attr("id"),a=ace.edit(e),t=e.replace("code-","#");a.setTheme($(this).attr("data-theme")),a.getSession().setMode($(this).attr("data-mode")),a.setValue($(t).val()),aceEditors[e]=a})});